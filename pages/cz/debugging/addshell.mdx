# Přidání shellu do obrazu, který jej nemá

Některé obrazy neobsahují shell, aby se ušetřilo místo, ale možná ho budete potřebovat
k ladění špatně se chovajícího kontejneru. Tento článek vysvětluje, jak přidat shell
do existujícího obrazu.

## Požadavky
- Přístup k dockeru

## Přidání shellu

Budete potřebovat skript nazvaný `add_shell.sh`, který si můžete stáhnout z našeho [GitHub repozitáře](https://github.com/CERIT-SC/k8s-utils/blob/main/add_shell.sh).

Nyní musíte spustit skript a poskytnout mu název obrazu, který používáte. Volitelně můžete také specifikovat UID uživatele obrazu, pokud není root (to je vyžadováno pro správná oprávnění shellu). Spusťte skript takto:

```bash
./add_shell.sh $IMAG_NAME (volitelné)$UID
```

Skript nyní vytvoří obraz se stejným názvem jako poskytnutý, ale s tagem `:with-shell`. Nyní můžete tento obraz spustit a `exec` do něj pomocí přidaného shellu na `/bin/sh`.

Budete však moci tento obraz používat pouze lokálně na svém počítači. Pokud chcete
tento obraz použít v Kubernetes, budete ho muset publikovat do dockerového repozitáře,
k němuž máte práva pro zápis.
