# Moodle

## Spuštění Moodle

Pokud nejste přihlášeni, přihlaste se na [rancher.cloud.e-infra.cz](https://rancher.cloud.e-infra.cz), viz sekce [Rancher](../rancher/rancher).

Dodržováním kroků popsaných v tomto článku budete schopni nainstalovat webovou aplikaci Moodle, vzdělávací platformu navrženou tak, aby poskytovala pedagogům, administrátorům a studentům robustní, bezpečný a integrovaný systém pro vytváření personalizovaných vzdělávacích prostředí. Tato aplikace vám umožňuje vytvořit vlastní Moodle stránku pod vaším hostname.

### Výběr aplikace k spuštění

Procházejte `Only User Namespaces` (1), `App & Marketplace` (2), `Charts` (3), `cerit-sc` (4) a vyberte `moodle` (5). Viz screenshot níže.

![selectapp](/img/ceritsc/apps/moodle/selectapp.png)

### Instalace aplikace

Když kliknete na graf, stiskněte `Install` pro pokračování.

![selectapp](/img/ceritsc/apps/moodle/selectversion.png)

Vyberte svůj namespace a název pro vaši Moodle aplikaci, poté klikněte na `Next`.

![selectapp](/img/ceritsc/apps/moodle/namespace.png)

Uvidíte více možností pro přizpůsobení vaší aplikace. Nyní se zaměříme na sekci `General`. `Hostname` (1) je vaše přístupová URL, pokud je ponecháno prázdné, výchozí hodnota je moodle-namespace.dyn.cloud.e-infra.cz. `Moodle username` (2) a `Moodle password` (3) jsou vaše přihlašovací údaje, vyplňte, co chcete. `Site name` (4) je název vaší stránky, pokud je ponecháno prázdné, název bude "New Site". `Moodle e-mail` (5) je váš nový e-mail pro Moodle. a `Replicas` (6) je počet replik, které chcete.

![selectapp](/img/ceritsc/apps/moodle/gen1.png)

Nyní nakonfigurujeme naši databázi. Pokud je zaškrtnuto pole `Internal MariaDB`, obdržíte databázi MariaDB.

![selectapp](/img/ceritsc/apps/moodle/mariadb.png)

Pokud chcete vytvořit zálohu, zaškrtněte pole `Backup` (1). `Backup-keep` (2) je počet záloh, které chcete uchovat, a `Schedule` (3) určuje, jak často chcete, aby byla vaše databáze zálohována, a `ClaimName` (4) je název Persistent Volume Claim se zálohou.

![selectapp](/img/ceritsc/apps/moodle/backup.png)

Pokud chcete použít existující externí databázi, zrušte zaškrtnutí pole `Internal MariaDB` (1) a objeví se několik možností. `Type` (2) je rozbalovací nabídka s typy podporovaných databází. V poli `Host` (3) musíte vyplnit Host existující databáze, totéž platí pro `port` (4). Pole `User` (5) a `Password` (6) jsou přihlašovací údaje pro uživatele databáze a `Database` (7) je název existující databáze.

![selectapp](/img/ceritsc/apps/moodle/external.png)

Jakmile budete spokojeni s konfigurací, stiskněte tlačítko `Install` a počkejte několik minut, dokud neuvidíte tuto zprávu.

![selectapp](/img/ceritsc/apps/moodle/success.png)

## Přihlášení do běžící instance

Jakmile je aplikace spuštěna, přejděte na Service Discovery (1) a Ingresses (2). Uvidíte Ingresses. Jakmile uvidíte jakýkoli název, který jste použili v předchozích krocích, můžete kliknout na Target (4) pro přihlášení do aplikace. Jakmile je spuštěna, klikněte na `Log in` a vyplňte své uživatelské jméno a heslo z předchozích kroků.

![selectapp](/img/ceritsc/apps/moodle/login.png)

A uvidíte svou novou stránku.

![selectapp](/img/ceritsc/apps/moodle/mod.png)

## Smazání běžící instance

Jakmile máte pocit, že aplikaci již nepotřebujete, můžete ji smazat. Stačí přejít na App & Marketplace (1), Installed Apps (2), vybrat aplikaci (3) a stisknout Delete (4). Data v domovském adresáři nejsou smazána. Opětovným spuštěním aplikace se stejným názvem obnovíte přístup k adresáři domovské složky.

![selectapp](/img/ceritsc/apps/moodle/del1.png)

A počkejte na následující zprávu.

![selectapp](/img/ceritsc/apps/moodle/del2.png)
