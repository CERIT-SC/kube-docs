import { Callout } from 'nextra/components'

# Cluster Hardware

CERIT-SC operates regular clusters and a secure cluster (more information in upcoming Secure cluster section). Regular clusters include *kuba-cluster* (the biggest one) and *kubh-cluster* (HA cluster). 8 powerful *kub-c* nodes will join kuba-cluster in near future. Secure cluster includes *kubas-cluster*.

## Regular clusters
### kuba-cluster

Kuba-cluster consists of 39 nodes (currently 31 available) and features 22 NVIDIA A40, 6 NVIDIA A10 and 12 NVIDIA A100 (80GB variant) GPU accelerators. Four A100 cards are configured as MIG parts resulting in 12x *10GB* and 8x *20GB* parts.

<table>
  <thead>
    <tr>
      <th>39x</th>
      <th></th>
      <th>Nodes</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>CPU:</td><td>2x AMD EPYC 7543 32-Core Processor<br/>(in total 64CPU per node) </td>
    </tr>
    <tr>
      <td>Memory:</td><td>1024GB:<br/>&nbsp;&nbsp;&nbsp;512GB:</td><td>kub-b15, kub-b16<br/>All remaining nodes</td>
    </tr>
    <tr>
      <td>Disk:</td><td>2x 3.5TB SSD SATA:<br/>8x 8TB NVME SSD:</td><td>kub-a5 -- kub-a25<br/>kub-b1 -- kub-b18</td>
    </tr>
    <tr>
      <td>GPU:</td><td>None:<br/>2x NVIDIA A40 per node:<br/>1x NVIDIA A40 per node:<br/> 2x NVIDIA A10 per node:<br/>2x NVIDIA A100 (80GB) per node:<br/>1x NVIDIA H100 (PCIE/80GB):<br/>1x NVIDIA L4:</td>
                   <td>kub-a5 -- kub-a9, kub-b3, kub-b9, kub-b14, kub-b15, kub-b17<br/>kub-a10 -- kub-a14, kub-b12<br/>kub-a15 -- kub-a20, kub-a22 -- kub-a24<br/>kub-b1 -- kub-b2, kub-b16<br/>kub-b4 -- kub-b8<br/>kub-b10 -- kub-b11<br/>kub-b13</td>
    </tr>
    <tr>
      <td>Network:</td><td>2x 10Gbps Ethernet:<br/>1x 100Gbps Infiniband:</td><td>All nodes<br/>kub-b1 -- kub-b18</td>
    </tr>
  </tbody>
</table>

<Callout type="info" emoji="ðŸ†’">
kub-c nodes (upcoming)

8 HPC *kub-c* nodes, each featuring NVIDIA H100 GPU accelerator, will join *kuba-cluster*. 

<table>
  <thead>
    <tr>
      <th>8x</th>
      <th></th>
      <th>Nodes</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>CPU:</td><td>2x AMD EPYC 9454 48-Core Processor<br/>(in total 96CPU per node)</td>
    </tr>
    <tr>
      <td>Memory:</td><td>1.5TB:</td><td>All nodes</td>
    </tr>
    <tr>
      <td>Disk:</td><td>60TB NVME SSD:</td><td>All nodes</td>
    </tr>
    <tr>
      <td>GPU:</td><td>1x NVIDIA H100 per node:</td><td>All nodes</td>
    </tr>
    <tr>
      <td>Network:</td><td>1x 100Gbps Ethernet:<br/>1x 200Gbps Infiniband:</td><td>All nodes<br/>All nodes</td>
    </tr>
  </tbody>
</table>
</Callout>

#### Storage

Primary network storage consists of four head nodes each equipped with AMD EPYC 7302P, 256GB RAM, 2x 10Gbps NIC (failover only). It offers 500TB all-flash capacity of SSD drives only in RAID 6 equivalent configuration. Used filesystem is IBM Spectrum Scale that is exported via NFS version 3 to the kubernetes cluster.

#### Data Backup

Storage is not backed up to another location but file system snapshots are made on daily basis. It is possible to restore deleted/overwritten data 14 days to the past.

### kubh-cluster

Kubh-cluster consists of 6 nodes that are disperesed in three different locations (2 nodes in locations University Campus Bohunice -- UKB, University Computer Centre -- CPS -- at Komenskeho namesti, Faculty of Informatics at Botanicka) thus is a suitable option for HA setups (more information in upcoming HA setup section).

<table>
  <thead>
    <tr>
      <th>6x</th>
      <th></th>
      <th>Nodes</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>CPU:</td><td>2x AMD EPYC 7543 32-Core Processor<br/>(in total 64CPU per node)</td>
    </tr>
    <tr>
      <td>Memory:</td><td>512GB</td>
    </tr>
    <tr>
      <td>Disk:</td><td>20TB NVME:<br/>7TB NVME SSD:</td><td>kub-h1 -- kub-h2<br/>kub-h3 -- kub-h6</td>
    </tr>
    <tr>
      <td>Network:</td><td>2x 10Gbps Ethernet:</td><td>All nodes</td>
    </tr>
  </tbody>
</table>

#### Storage

Storage is provided only locally in each node. 

#### Data Backup

Local storage is not backed up, it is up to the user to ensure backing-up.

## Secure cluster
### kubas-cluster

Kubas-cluster consists of 10 nodes and features 5x NVIDIA A40, 2x NVIDIA A100 (80GB variant), 4x NVIDIA P100, 2x NVIDIA H100 and on-demand 4x NVIDIA A100 GPU accelerators. Nodes *kub-cs1, kub-cs2* are physically located at different site than the rest of the cluster therefore it is possible to create HA setup in the secure cluster as well. 

<table>
  <thead>
    <tr>
      <th>10x</th>
      <th></th>
      <th>Nodes</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>CPU:</td><td>2x AMD EPYC 7543 32-Core Processor (in total 64CPU per node):<br/>2x AMD EPYC 9454 48-Core Processor (in total 96CPU per node):<br/>1x Intel(R) Xeon(R) CPU E5-2650 v4 @ 2.20GHz 24-Core Processor:<br/>1x AMD EPYC 7662 64-Core Processor (in total 64CPU per node):</td><td>kub-as1 -- kub-as6<br/>kub-cs1, kub-cs2<br/>kblack<br/>kzia</td>
    </tr>
    <tr>
      <td>Memory:</td><td>512GB:<br/>1.5 TB:<br/>512GB:<br/>512GB:</td><td>kub-as1 -- kub-as6<br/>kub-cs1, kub-cs2<br/>kblack<br/>kzia</td>
    </tr>
    <tr>
      <td>Disk:</td><td>2x 3.5TB SSD SATA:<br/>60TB NVME SSD:<br/>1x 3.6TB SSD:<br/>1x 1.5TB SSD:</td><td>kub-as1 -- kub-as6<br/>kub-cs1, kub-cs2<br/>kblack<br/>kzia</td>
    </tr>
    <tr>
      <td>GPU:</td><td>1x NVIDIA A40 per node:<br/>2x NVIDIA A100 (80GB) per node:<br/>2x NVIDIA H100 per node:<br/>4x NVIDIA P100:<br/>on-demand 1-4 NVIDIA A100 (40GB):</td><td>kub-as1 -- kub-as5<br/>kub-as6<br/>kub-cs1, kub-cs2<br/>kblack<br/>kzia</td>
    </tr>
    <tr>
      <td>Network:</td><td>2x 10Gbps Ethernet:<br/>1x 100Gbps Ethernet:<br/>1x 10Gbps Ethernet:<br/>1x 10Gbps Ethernet:</td><td>kub-as1 -- kub-as6<br/>kub-cs1, kub-cs2<br/>kblack<br/>kzia</td>
    </tr>
  </tbody>
</table>


#### Storage

Primary network storage consists of two head nodes each equipped with Intel(R) Xeon(R) Silver 4216 CPU @ 2.10GHz, 192GB RAM, 1x 10Gbps NIC. It offers 1700TB capacity of rotational drives only in RAID 6 configuration. Used filesystem is IBM Spectrum Scale that is exported via NFS version 3 to the kubernetes cluster.

#### Data Backup

Storage is regularly backed up to the different storage in the different location.
